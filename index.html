<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Questionário – 8 Conjuntos (4•3•2•1)</title>
<style>
/* ... estilos (iguais aos que já te mandei) ... */
</style>
</head>
<body>
  <header>
    <h1>Questionário</h1>
    <p>Atribua <strong>4, 3, 2 e 1</strong> em cada conjunto (sem repetir). O nome/tema do conjunto fica oculto ao respondente.</p>
  </header>

  <main>
    <form id="formQuiz" novalidate>
      <!-- Identificação -->
      <div class="grid2" aria-label="Identificação">
        <div class="field">
          <label for="nome">Nome completo</label>
          <input id="nome" name="nome" type="text" placeholder="Digite seu nome" required />
        </div>
        <div class="field">
          <label for="numero">Número (telefone)</label>
          <input id="numero" name="numero" type="tel" inputmode="tel" placeholder="(00) 00000-0000" required />
        </div>
      </div>

      <!-- CONJUNTO A -->
      <section class="conjunto" data-conjunto="Direcionado ➜ Diretivo" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO B -->
      <section class="conjunto" data-conjunto="Aventureiro ➜ Experiencial" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO C -->
      <section class="conjunto" data-conjunto="Planejamento ➜ Organização" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO D -->
      <section class="conjunto" data-conjunto="Relacionamento ➜ Influência" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO E -->
      <section class="conjunto" data-conjunto="Execução ➜ Ritmo" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO F -->
      <section class="conjunto" data-conjunto="Decisão ➜ Critério" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO G -->
      <section class="conjunto" data-conjunto="Resiliência ➜ Emoção" data-valid="false">
        <!-- ... opções ... -->
      </section>

      <!-- CONJUNTO H -->
      <section class="conjunto" data-conjunto="Estratégia ➜ Resultado" data-valid="false">
        <!-- ... opções ... -->
      </section>
      <div class="footer-actions">
        <button type="button" class="btn-wa" id="btnWhats">Enviar no WhatsApp</button>
        <button class="btn-primary" id="btnEnviar" type="submit" disabled>Finalizar</button>
      </div>

      <div class="alert" id="alerta"></div>
      <div class="okmsg" id="okmsg">Respostas registradas. Obrigado!</div>

      <div class="result-box" id="resultBox">
        <h3>Seu resultado</h3>
        <pre id="resultText"></pre>
      </div>
    </form>
  </main>

<script>
(function(){
  const WHATSAPP_NUM = '5561981650524';

  const form = document.getElementById('formQuiz');
  const conjuntos = [...document.querySelectorAll('.conjunto')];
  const btnEnviar = document.getElementById('btnEnviar');
  const btnWhats = document.getElementById('btnWhats');
  const alerta = document.getElementById('alerta');
  const okmsg = document.getElementById('okmsg');
  const resultBox = document.getElementById('resultBox');
  const resultText = document.getElementById('resultText');

  function idOk(){ /* valida nome e número */ }
  function readyToSend(){ /* checa conjuntos */ }
  function coletarRespostas(){ /* coleta dados */ }
  function montarMensagem(data,incluirInterno){ /* formata texto */ }
  function baixarCSV(data){ /* gera CSV */ }

  form.addEventListener('submit', (e)=>{ 
    e.preventDefault();
    if(!readyToSend()) return;
    const data = coletarRespostas();
    const texto = montarMensagem(data,true);
    resultText.textContent = texto;
    resultBox.style.display = 'block';
    baixarCSV(data);
    okmsg.style.display = 'block';
  });

  btnWhats.addEventListener('click', ()=>{ 
    if(!readyToSend()) return;
    const data = coletarRespostas();
    const texto = montarMensagem(data,true);
    const url = `https://wa.me/${WHATSAPP_NUM}?text=${encodeURIComponent(texto)}`;
    window.open(url,'_blank');
  });
})();
</script>
</body>
</html>
